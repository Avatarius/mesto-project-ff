(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n){var p=e.querySelector(".card").cloneNode(!0),o=t.name,r=t.link,u=n.removeFunc,c=n.likeFunc,a=n.imgClickFunc,i=p.querySelector(".card__title"),d=p.querySelector(".card__image"),s=p.querySelector(".card__delete-button"),l=p.querySelector(".card__like-button");return i.textContent=o,d.alt=o,d.src=r,s.addEventListener("click",u),l.addEventListener("click",c),d.addEventListener("click",a),p}function n(e){e.classList.add("popup_is-opened"),document.openedPopup=e,document.addEventListener("mousedown",o),document.addEventListener("keydown",r)}function p(e){e.classList.remove("popup_is-opened"),document.removeEventListener("mousedown",o),document.removeEventListener("keydown",r)}function o(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup"))&&p(e.target.closest(".popup"))}function r(e){"Escape"===e.key&&p(e.currentTarget.openedPopup)}function u(e,t,n){var p=document.querySelector(e);return{popup:p,form:p.querySelector(".popup__form"),inputName:document.querySelector(t),inputDetails:document.querySelector(n)}}var c=u(".popup_type_new-card",".popup__input_type_card-name",".popup__input_type_url"),a=u(".popup_type_edit",".popup__input_type_name",".popup__input_type_description"),i=(".popup_type_image",".popup__image",".popup__caption",{popup:document.querySelector(".popup_type_image"),img:document.querySelector(".popup__image"),caption:document.querySelector(".popup__caption")}),d=document.querySelector(".places__list"),s=document.querySelector(".profile__title"),l=document.querySelector(".profile__description"),m=document.querySelector(".profile__add-button"),_=document.querySelector(".profile__edit-button"),v={removeFunc:function(e){e.target.closest(".card").remove()},likeFunc:function(e){e.target.classList.toggle("card__like-button_is-active")},imgClickFunc:function(e){var t,p;t=i,p=e.target,t.img.src=p.src,t.img.alt=p.alt,t.caption.textContent=p.alt,n(i.popup)}};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return d.append(t(e,v))})),m.addEventListener("click",(function(){var e;(e=c).inputName.value="",e.inputDetails.value="",n(c.popup)})),_.addEventListener("click",(function(){var e;(e=a).inputName.value=s.textContent,e.inputDetails.value=l.textContent,n(a.popup)})),c.form.addEventListener("submit",(function(e){e.preventDefault();var n={name:c.inputName.value,link:c.inputDetails.value};d.prepend(t(n,v)),p(c.popup)})),a.form.addEventListener("submit",(function(e){var t;e.preventDefault(),t=a,s.textContent=t.inputName.value,l.textContent=t.inputDetails.value,p(a.popup)}))})();